<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PRTS: Strategic Deployment</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" defer></script>
</head>
<body>
    <div class="container">
        <nav class="main-nav">
            <button class="nav-btn active" data-target="main-page">編成生成</button>
            <button class="nav-btn" data-target="manage-page">所持キャラ管理</button>
        </nav>

        <div id="main-page" class="page active">
            <h1>PRTS: 拠点防衛編成</h1>
            <div class="controls">
                <div class="filter-group-main">
                    <div class="filter-item">
                        <label>所属陣営</label>
                        <select id="faction-filter" class="large-select">
                            <option value="all">すべての陣営</option>
                            <option value="ロドス">ロドス</option>
                            <option value="カジミエーシュ">カジミエーシュ</option>
                            <option value="炎国">炎国</option>
                            <option value="ウルサス">ウルサス</option>
                            <option value="ヴィクトリア">ヴィクトリア</option>
                            <option value="シラクーザ">シラクーザ</option>
                            <option value="ラテラーノ">ラテラーノ</option>
                            <option value="ライン生命">ライン生命</option>
                            <option value="アビサル">アビサル</option>
                        </select>
                    </div>
                    <div class="filter-item">
                        <label>レアリティ制限</label>
                        <div class="rarity-checks large-checks">
                            <label><input type="checkbox" class="rarity-check" value="6" checked><span>★6</span></label>
                            <label><input type="checkbox" class="rarity-check" value="5" checked><span>★5</span></label>
                            <label><input type="checkbox" class="rarity-check" value="4" checked><span>★4</span></label>
                            <label><input type="checkbox" class="rarity-check" value="3" checked><span>★3-1</span></label>
                        </div>
                    </div>
                </div>

                <div class="deployment-settings">
                    <div class="total-config">
                        <label>合計人数</label>
                        <input type="number" id="max-squad-size" value="12" min="1" max="12" class="huge-input">
                    </div>
                    <div class="class-config">
                        <label class="section-label">職種別・確定枠（横2列）</label>
                        <div class="class-input-grid">
                            <div class="input-item"><span>先鋒</span><input type="number" class="class-input" data-class="先鋒" value="0"></div>
                            <div class="input-item"><span>前衛</span><input type="number" class="class-input" data-class="前衛" value="0"></div>
                            <div class="input-item"><span>狙撃</span><input type="number" class="class-input" data-class="狙撃" value="0"></div>
                            <div class="input-item"><span>重装</span><input type="number" class="class-input" data-class="重装" value="0"></div>
                            <div class="input-item"><span>医療</span><input type="number" class="class-input" data-class="医療" value="0"></div>
                            <div class="input-item"><span>補助</span><input type="number" class="class-input" data-class="補助" value="0"></div>
                            <div class="input-item"><span>術師</span><input type="number" class="class-input" data-class="術師" value="0"></div>
                            <div class="input-item"><span>特殊</span><input type="number" class="class-input" data-class="特殊" value="0"></div>
                        </div>
                    </div>
                </div>

                <div class="status-options">
                    <label class="toggle-label"><input type="checkbox" id="owned-only-check" checked> 所持済み限定</label>
                    <div class="btn-group-main">
                        <button id="generate-btn" class="main-generate-btn">作戦開始</button>
                        <button id="share-btn" class="share-btn">画像保存＆X共有</button>
                    </div>
                </div>
            </div>
            
            <div id="squad-display" class="results-layout"></div>
            <a id="download-link" style="display:none;"></a>
        </div>

        <div id="manage-page" class="page">
            <h1>所持キャラ管理</h1>
            <div class="manage-controls">
                <div class="sub-tabs rarity-tabs">
                    <button class="sub-tab-btn active" data-rarity="6">★6</button>
                    <button class="sub-tab-btn" data-rarity="5">★5</button>
                    <button class="sub-tab-btn" data-rarity="4">★4</button>
                    <button class="sub-tab-btn" data-rarity="3">★3-1</button>
                </div>
                <div class="sub-tabs class-tabs">
                    <button class="class-tab active" data-class="all">全職</button>
                    <button class="class-tab" data-class="先鋒">先鋒</button>
                    <button class="class-tab" data-class="前衛">前衛</button>
                    <button class="class-tab" data-class="狙撃">狙撃</button>
                    <button class="class-tab" data-class="重装">重装</button>
                    <button class="class-tab" data-class="医療">医療</button>
                    <button class="class-tab" data-class="補助">補助</button>
                    <button class="class-tab" data-class="術師">術師</button>
                    <button class="class-tab" data-class="特殊">特殊</button>
                </div>
                <div class="bulk-actions">
                    <button id="all-owned-btn" class="action-btn">一括選択</button>
                    <button id="all-unowned-btn" class="action-btn secondary">一括解除</button>
                </div>
            </div>
            <div id="operator-list" class="squad-grid manage-grid"></div>
        </div>
    </div>
    <script type="module" src="script.js"></script>
</body>
</html>